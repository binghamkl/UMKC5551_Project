<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Access-Control-Allow-Origin" content="http://localhost" />
    <title>Agile Mind Mobile</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="Styles/jquery.mobile-1.3.0.min.css" />
	<script src="Scripts/jquery-1.9.1.min.js" type="text/javascript"></script>
	<script src="Scripts/jquery.mobile-1.3.0.min.js" type="text/javascript"></script>
	<script src="Scripts/knockout-2.2.1.js" type="text/javascript"></script>
	<script src="Scripts/AgileHOME.js" type="text/javascript"></script>
	<script src="Scripts/AgileMind.js" type="text/javascript"></script>
</head>
<body>

    <div data-role="page" data-theme="c" id="loginPage" >
        <div data-role="header">
            <h2>Login</h2>
            <div data-theme="e" data-bind="visible: Error().length > 0, text:Error"></div>
        </div>
        <div data-role="content" data-bind="visible: !IsLoggedIn()">
				<div style="padding:10px 20px;">
				  <h3>Please sign in</h3>
		          <label for="un" class="ui-hidden-accessible">Username:</label>
		          <input type="text" name="user" id="un" value="" placeholder="username" data-theme="a" data-bind="value: LoginInfo.UserName" />

		          <label for="pw" class="ui-hidden-accessible">Password:</label>
		          <input type="password" name="pass" id="pw" value="" placeholder="password" data-theme="a" data-bind="value: LoginInfo.Password" />

		    	  <button type="submit" data-theme="b" data-bind="click:$root.Login">Sign in</button>
                  <a href="#CreateUser" data-role="button">Register</a>
			    </div>
        </div>
        <div data-role="content" data-bind="visible: IsLoggedIn()">
            Yeap, logged in.
        </div>
    </div>

    <div data-role="dialog" data-theme="a" id="CreateUser">
        <div data-role="header">
            <h2>Create User</h2>
            <div data-theme="e" data-bind="visible: Error().length > 0, text:Error"></div>
        </div>
        <div data-role="content">
				<div style="padding:10px 20px;">
				  <h3>Please sign in</h3>
		          <label for="un" class="ui-hidden-accessible">Username:</label>
		          <input type="text" name="user" id="Text1" value="" placeholder="username" data-theme="a" data-bind="value: Register.UserName" />

		          <label for="pw" class="ui-hidden-accessible">Password:</label>
		          <input type="password" name="pass" id="Password1" value="" placeholder="password" data-theme="a" data-bind="value: Register.Password" />

		          <label for="pw" class="ui-hidden-accessible">Email:</label>
		          <input type="text" name="Email" id="Password2" value="" placeholder="email" data-theme="a" data-bind="value: Register.Email" />

		    	  <button type="submit" data-theme="b" data-bind="click:$root.RegisterUser">Register</button>
                  <a href="#" data-role="button" data-rel="back">Cancel</a>
			    </div>
        </div>
    </div>


    <script>
        ko.applyBindings(new AgileMindViewModel());   
    </script>

</body>
</html>
